{"ast":null,"code":"var _jsxFileName = \"/Users/rishuraj/Desktop/ROOKHIDE_LOCAL/frontend/src/components/Encode.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { getApiUrl, API_ENDPOINTS, API_BASE_URL } from '../config';\nimport x402SDK from '../utils/x402SDK';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Encode = ({\n  walletAddress,\n  sessionToken,\n  walletConnected\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [fileType, setFileType] = useState('text');\n  const [selfDestructTimer, setSelfDestructTimer] = useState('');\n  const [customHeaders, setCustomHeaders] = useState({\n    event: '',\n    site: '',\n    white: '',\n    black: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [, setTransactionId] = useState('');\n  const [paymentStatus, setPaymentStatus] = useState('');\n  const [result, setResult] = useState(null);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleHeaderChange = (field, value) => {\n    setCustomHeaders(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const initiatePayment = async () => {\n    // Ensure wallet and file\n    if (!walletConnected || !walletAddress) {\n      alert('❌ Coinbase Wallet must be connected first!');\n      return;\n    }\n    if (!file) {\n      alert('❌ Please select a file to encode');\n      return;\n    }\n    try {\n      setLoading(true);\n      setPaymentStatus('🔄 Calculating file hash...');\n\n      // Calculate file hash via SDK\n      const fileHash = await x402SDK.calculateFileHash(file);\n\n      // Ensure SDK API URL is correct\n      x402SDK.apiUrl = API_BASE_URL;\n      setPaymentStatus('💰 Initiating and processing X402 payment via Coinbase Wallet...');\n\n      // Complete X402 payment flow using SDK (initiate + process + verify)\n      const result = await x402SDK.completePayment({\n        walletAddress,\n        operation: 'encode',\n        fileHash\n      });\n      if (result.success && result.status === 'confirmed') {\n        setPaymentStatus(`✅ Payment confirmed (tx: ${result.txHash.slice(0, 10)}...). Encoding...`);\n        await processEncoding(result.transactionId);\n      } else {\n        setPaymentStatus('❌ Payment not confirmed');\n      }\n    } catch (error) {\n      console.error('X402 payment flow error:', error);\n      const errorMsg = (error === null || error === void 0 ? void 0 : error.message) || 'X402 payment failed';\n      setPaymentStatus(`❌ ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const verifyPayment = async txId => {\n    try {\n      setPaymentStatus('Verifying payment...');\n\n      // Simulate transaction hash (in production, this comes from the actual blockchain transaction)\n      const simulatedTxHash = '0x' + Math.random().toString(16).substr(2, 64);\n      const response = await axios.post(getApiUrl(API_ENDPOINTS.PAYMENT_VERIFY), {\n        transaction_id: txId,\n        tx_hash: simulatedTxHash\n      });\n      if (response.data.success) {\n        setPaymentStatus('Payment verified! Processing encoding...');\n        await processEncoding(txId);\n      }\n    } catch (error) {\n      console.error('Payment verification error:', error);\n      setPaymentStatus('Payment verification failed');\n    }\n  };\n  const processEncoding = async txId => {\n    try {\n      console.log('🔄 Starting encoding process...');\n      console.log('Transaction ID:', txId);\n      console.log('File:', file);\n      console.log('Wallet:', walletAddress);\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('file_type', fileType);\n      formData.append('wallet_address', walletAddress);\n      formData.append('transaction_id', txId);\n      if (selfDestructTimer) {\n        formData.append('self_destruct_timer', selfDestructTimer);\n      }\n\n      // Add custom headers\n      Object.entries(customHeaders).forEach(([key, value]) => {\n        if (value) {\n          formData.append(`pgn_${key}`, value);\n        }\n      });\n      const response = await axios.post(getApiUrl(API_ENDPOINTS.ENCODE), formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.data.success) {\n        setResult(response.data);\n        setPaymentStatus('Encoding completed successfully!');\n      }\n    } catch (error) {\n      console.error('Encoding error:', error);\n      setPaymentStatus('Encoding failed');\n    }\n  };\n  const downloadResult = async () => {\n    if (result && result.download_url) {\n      window.open(`${getApiUrl('')}${result.download_url}`, '_blank');\n    }\n  };\n  if (!walletConnected) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-6xl mb-4\",\n          children: \"\\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-red-600\",\n          children: \"Coinbase Wallet Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-red-800 mb-2\",\n            children: \"Authentication Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-700 mb-4\",\n            children: \"You must connect your Coinbase Wallet before encoding any files. This ensures:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-left text-red-700 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Secure authentication and ownership verification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 X402 micropayment processing for encoding services\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Blockchain-based file metadata storage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Access to your previously encoded files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-800 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Next Steps:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), \" Connect wallet \\u2192 Pay via X402 \\u2192 Encode file\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/wallet',\n          className: \"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors\",\n          children: \"Go to Wallet Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-6\",\n      children: \"Encode Secret Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Select File to Hide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleFileChange,\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          accept: \".txt,.png,.jpg,.jpeg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"File Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: fileType,\n          onChange: e => setFileType(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Self-Destruct Timer (seconds, optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: selfDestructTimer,\n          onChange: e => setSelfDestructTimer(e.target.value),\n          placeholder: \"e.g., 3600 for 1 hour\",\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Custom Chess Game Headers (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Event name\",\n            value: customHeaders.event,\n            onChange: e => handleHeaderChange('event', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Site/Location\",\n            value: customHeaders.site,\n            onChange: e => handleHeaderChange('site', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"White player\",\n            value: customHeaders.white,\n            onChange: e => handleHeaderChange('white', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Black player\",\n            value: customHeaders.black,\n            onChange: e => handleHeaderChange('black', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), paymentStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-blue-800\",\n          children: paymentStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-500\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-800 font-medium\",\n            children: \"Coinbase Wallet Connected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 text-sm mt-1\",\n          children: [\"Address: \", walletAddress.slice(0, 6), \"...\", walletAddress.slice(-4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-blue-800 mb-2\",\n          children: \"X402 Micropayment Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-700 text-sm space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Encoding fee: ~0.002 ETH (X402 protocol)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Payment processed via Coinbase Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Secure blockchain verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 File metadata stored on-chain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          console.log('🧪 Test button clicked');\n          try {\n            const response = await axios.get(getApiUrl(API_ENDPOINTS.HEALTH));\n            console.log('✅ Health check response:', response.data);\n            alert('✅ Backend connection successful!');\n          } catch (error) {\n            console.error('❌ Health check failed:', error);\n            alert('❌ Backend connection failed: ' + error.message);\n          }\n        },\n        className: \"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors mb-4\",\n        children: \"\\uD83E\\uDDEA Test Backend Connection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: initiatePayment,\n        disabled: loading || !file || !walletConnected,\n        className: \"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg hover:from-green-600 hover:to-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-semibold\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), \"Processing X402 Payment...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this) : '🔐 Pay via X402 & Encode Message'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-green-800 mb-2\",\n          children: \"Encoding Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 mb-2\",\n          children: [\"PGN ID: \", result.pgn_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 mb-4\",\n          children: [\"File Hash: \", result.pgn_hash]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: downloadResult,\n          className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\",\n          children: \"Download Encoded PGN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 5\n  }, this);\n};\n_s(Encode, \"Nbcuf0tEou87LxlIhDpGCcojZEQ=\");\n_c = Encode;\nexport default Encode;\nvar _c;\n$RefreshReg$(_c, \"Encode\");","map":{"version":3,"names":["React","useState","axios","getApiUrl","API_ENDPOINTS","API_BASE_URL","x402SDK","jsxDEV","_jsxDEV","Encode","walletAddress","sessionToken","walletConnected","_s","file","setFile","fileType","setFileType","selfDestructTimer","setSelfDestructTimer","customHeaders","setCustomHeaders","event","site","white","black","loading","setLoading","setTransactionId","paymentStatus","setPaymentStatus","result","setResult","handleFileChange","e","target","files","handleHeaderChange","field","value","prev","initiatePayment","alert","fileHash","calculateFileHash","apiUrl","completePayment","operation","success","status","txHash","slice","processEncoding","transactionId","error","console","errorMsg","message","verifyPayment","txId","simulatedTxHash","Math","random","toString","substr","response","post","PAYMENT_VERIFY","transaction_id","tx_hash","data","log","formData","FormData","append","Object","entries","forEach","key","ENCODE","headers","downloadResult","download_url","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","location","href","type","onChange","accept","placeholder","get","HEALTH","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","pgn_id","pgn_hash","_c","$RefreshReg$"],"sources":["/Users/rishuraj/Desktop/ROOKHIDE_LOCAL/frontend/src/components/Encode.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { getApiUrl, API_ENDPOINTS, API_BASE_URL } from '../config';\nimport x402SDK from '../utils/x402SDK';\n\nconst Encode = ({ walletAddress, sessionToken, walletConnected }) => {\n  const [file, setFile] = useState(null);\n  const [fileType, setFileType] = useState('text');\n  const [selfDestructTimer, setSelfDestructTimer] = useState('');\n  const [customHeaders, setCustomHeaders] = useState({\n    event: '',\n    site: '',\n    white: '',\n    black: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [, setTransactionId] = useState('');\n  const [paymentStatus, setPaymentStatus] = useState('');\n  const [result, setResult] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleHeaderChange = (field, value) => {\n    setCustomHeaders(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const initiatePayment = async () => {\n    // Ensure wallet and file\n    if (!walletConnected || !walletAddress) {\n      alert('❌ Coinbase Wallet must be connected first!');\n      return;\n    }\n    if (!file) {\n      alert('❌ Please select a file to encode');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setPaymentStatus('🔄 Calculating file hash...');\n\n      // Calculate file hash via SDK\n      const fileHash = await x402SDK.calculateFileHash(file);\n\n      // Ensure SDK API URL is correct\n      x402SDK.apiUrl = API_BASE_URL;\n\n      setPaymentStatus('💰 Initiating and processing X402 payment via Coinbase Wallet...');\n\n      // Complete X402 payment flow using SDK (initiate + process + verify)\n      const result = await x402SDK.completePayment({\n        walletAddress,\n        operation: 'encode',\n        fileHash,\n      });\n\n      if (result.success && result.status === 'confirmed') {\n        setPaymentStatus(`✅ Payment confirmed (tx: ${result.txHash.slice(0, 10)}...). Encoding...`);\n        await processEncoding(result.transactionId);\n      } else {\n        setPaymentStatus('❌ Payment not confirmed');\n      }\n    } catch (error) {\n      console.error('X402 payment flow error:', error);\n      const errorMsg = error?.message || 'X402 payment failed';\n      setPaymentStatus(`❌ ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const verifyPayment = async (txId) => {\n    try {\n      setPaymentStatus('Verifying payment...');\n      \n      // Simulate transaction hash (in production, this comes from the actual blockchain transaction)\n      const simulatedTxHash = '0x' + Math.random().toString(16).substr(2, 64);\n      \n      const response = await axios.post(getApiUrl(API_ENDPOINTS.PAYMENT_VERIFY), {\n        transaction_id: txId,\n        tx_hash: simulatedTxHash\n      });\n\n      if (response.data.success) {\n        setPaymentStatus('Payment verified! Processing encoding...');\n        await processEncoding(txId);\n      }\n    } catch (error) {\n      console.error('Payment verification error:', error);\n      setPaymentStatus('Payment verification failed');\n    }\n  };\n\n  const processEncoding = async (txId) => {\n    try {\n      console.log('🔄 Starting encoding process...');\n      console.log('Transaction ID:', txId);\n      console.log('File:', file);\n      console.log('Wallet:', walletAddress);\n      \n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('file_type', fileType);\n      formData.append('wallet_address', walletAddress);\n      formData.append('transaction_id', txId);\n      \n      if (selfDestructTimer) {\n        formData.append('self_destruct_timer', selfDestructTimer);\n      }\n\n      // Add custom headers\n      Object.entries(customHeaders).forEach(([key, value]) => {\n        if (value) {\n          formData.append(`pgn_${key}`, value);\n        }\n      });\n\n      const response = await axios.post(getApiUrl(API_ENDPOINTS.ENCODE), formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (response.data.success) {\n        setResult(response.data);\n        setPaymentStatus('Encoding completed successfully!');\n      }\n    } catch (error) {\n      console.error('Encoding error:', error);\n      setPaymentStatus('Encoding failed');\n    }\n  };\n\n  const downloadResult = async () => {\n    if (result && result.download_url) {\n      window.open(`${getApiUrl('')}${result.download_url}`, '_blank');\n    }\n  };\n\n  if (!walletConnected) {\n    return (\n      <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">🔒</div>\n          <h2 className=\"text-2xl font-semibold mb-4 text-red-600\">Coinbase Wallet Required</h2>\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\n            <h3 className=\"font-semibold text-red-800 mb-2\">Authentication Required</h3>\n            <p className=\"text-red-700 mb-4\">\n              You must connect your Coinbase Wallet before encoding any files. This ensures:\n            </p>\n            <ul className=\"text-left text-red-700 space-y-2\">\n              <li>• Secure authentication and ownership verification</li>\n              <li>• X402 micropayment processing for encoding services</li>\n              <li>• Blockchain-based file metadata storage</li>\n              <li>• Access to your previously encoded files</li>\n            </ul>\n          </div>\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Next Steps:</strong> Connect wallet → Pay via X402 → Encode file\n            </p>\n          </div>\n          <button \n            onClick={() => window.location.href = '/wallet'}\n            className=\"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors\"\n          >\n            Go to Wallet Connection\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\">\n      <h2 className=\"text-2xl font-semibold mb-6\">Encode Secret Message</h2>\n      \n      <div className=\"space-y-6\">\n        {/* File Upload */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Select File to Hide\n          </label>\n          <input\n            type=\"file\"\n            onChange={handleFileChange}\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            accept=\".txt,.png,.jpg,.jpeg\"\n          />\n        </div>\n\n        {/* File Type */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            File Type\n          </label>\n          <select\n            value={fileType}\n            onChange={(e) => setFileType(e.target.value)}\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"text\">Text</option>\n            <option value=\"image\">Image</option>\n          </select>\n        </div>\n\n        {/* Self-Destruct Timer */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Self-Destruct Timer (seconds, optional)\n          </label>\n          <input\n            type=\"number\"\n            value={selfDestructTimer}\n            onChange={(e) => setSelfDestructTimer(e.target.value)}\n            placeholder=\"e.g., 3600 for 1 hour\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n\n        {/* Custom PGN Headers */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Custom Chess Game Headers (optional)\n          </label>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Event name\"\n              value={customHeaders.event}\n              onChange={(e) => handleHeaderChange('event', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Site/Location\"\n              value={customHeaders.site}\n              onChange={(e) => handleHeaderChange('site', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"White player\"\n              value={customHeaders.white}\n              onChange={(e) => handleHeaderChange('white', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Black player\"\n              value={customHeaders.black}\n              onChange={(e) => handleHeaderChange('black', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Payment Status */}\n        {paymentStatus && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <p className=\"text-blue-800\">{paymentStatus}</p>\n          </div>\n        )}\n\n        {/* Wallet Status */}\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-green-500\">✅</span>\n            <span className=\"text-green-800 font-medium\">Coinbase Wallet Connected</span>\n          </div>\n          <p className=\"text-green-700 text-sm mt-1\">\n            Address: {walletAddress.slice(0, 6)}...{walletAddress.slice(-4)}\n          </p>\n        </div>\n\n        {/* Payment Info */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <h3 className=\"font-semibold text-blue-800 mb-2\">X402 Micropayment Required</h3>\n          <div className=\"text-blue-700 text-sm space-y-1\">\n            <p>• Encoding fee: ~0.002 ETH (X402 protocol)</p>\n            <p>• Payment processed via Coinbase Wallet</p>\n            <p>• Secure blockchain verification</p>\n            <p>• File metadata stored on-chain</p>\n          </div>\n        </div>\n\n        {/* Test Button */}\n        <button\n          onClick={async () => {\n            console.log('🧪 Test button clicked');\n            try {\n              const response = await axios.get(getApiUrl(API_ENDPOINTS.HEALTH));\n              console.log('✅ Health check response:', response.data);\n              alert('✅ Backend connection successful!');\n            } catch (error) {\n              console.error('❌ Health check failed:', error);\n              alert('❌ Backend connection failed: ' + error.message);\n            }\n          }}\n          className=\"w-full bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-600 transition-colors mb-4\"\n        >\n          🧪 Test Backend Connection\n        </button>\n\n        {/* Action Button */}\n        <button\n          onClick={initiatePayment}\n          disabled={loading || !file || !walletConnected}\n          className=\"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg hover:from-green-600 hover:to-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-semibold\"\n        >\n          {loading ? (\n            <span className=\"flex items-center justify-center\">\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Processing X402 Payment...\n            </span>\n          ) : (\n            '🔐 Pay via X402 & Encode Message'\n          )}\n        </button>\n\n        {/* Result */}\n        {result && (\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <h3 className=\"font-semibold text-green-800 mb-2\">Encoding Successful!</h3>\n            <p className=\"text-green-700 mb-2\">PGN ID: {result.pgn_id}</p>\n            <p className=\"text-green-700 mb-4\">File Hash: {result.pgn_hash}</p>\n            <button\n              onClick={downloadResult}\n              className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\"\n            >\n              Download Encoded PGN\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Encode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}