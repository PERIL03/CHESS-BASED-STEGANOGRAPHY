{"ast":null,"code":"var _jsxFileName = \"/Users/rishuraj/Desktop/ROOKHIDE/frontend/src/components/Encode.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Encode = ({\n  walletAddress,\n  sessionToken,\n  walletConnected\n}) => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [fileType, setFileType] = useState('text');\n  const [selfDestructTimer, setSelfDestructTimer] = useState('');\n  const [customHeaders, setCustomHeaders] = useState({\n    event: '',\n    site: '',\n    white: '',\n    black: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [transactionId, setTransactionId] = useState('');\n  const [paymentStatus, setPaymentStatus] = useState('');\n  const [result, setResult] = useState(null);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleHeaderChange = (field, value) => {\n    setCustomHeaders(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const initiatePayment = async () => {\n    // Double-check wallet connection\n    if (!walletConnected || !walletAddress) {\n      alert('‚ùå Coinbase Wallet must be connected first!');\n      return;\n    }\n    if (!file) {\n      alert('‚ùå Please select a file to encode');\n      return;\n    }\n    try {\n      setLoading(true);\n      setPaymentStatus('üîÑ Calculating file hash...');\n\n      // Calculate file hash for X402 payment verification\n      const fileData = await file.arrayBuffer();\n      const hashBuffer = await crypto.subtle.digest('SHA-256', fileData);\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\n      const fileHash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n      setPaymentStatus('üí∞ Initiating X402 micropayment...');\n\n      // Initiate X402 payment\n      const response = await axios.post('http://localhost:8000/api/payment/initiate', {\n        wallet_address: walletAddress,\n        operation: 'encode',\n        file_hash: fileHash\n      });\n      if (response.data.success) {\n        setTransactionId(response.data.transaction_id);\n        setPaymentStatus(`üí≥ X402 Payment Required: ${response.data.payment_amount_eth} ETH\\n` + `‚è∞ Payment expires in 15 minutes\\n` + `üîÑ Processing payment...`);\n\n        // In production, this would trigger the actual wallet payment\n        // For demo, we simulate the payment process\n        setTimeout(() => {\n          setPaymentStatus('‚úÖ Simulating X402 payment completion...');\n          setTimeout(() => {\n            verifyPayment(response.data.transaction_id);\n          }, 2000);\n        }, 3000);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('X402 payment initiation error:', error);\n      const errorMsg = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'X402 payment initiation failed';\n      setPaymentStatus(`‚ùå ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const verifyPayment = async txId => {\n    try {\n      setPaymentStatus('Verifying payment...');\n\n      // Simulate transaction hash (in production, this comes from the actual blockchain transaction)\n      const simulatedTxHash = '0x' + Math.random().toString(16).substr(2, 64);\n      const response = await axios.post('http://localhost:8000/api/payment/verify', {\n        transaction_id: txId,\n        tx_hash: simulatedTxHash\n      });\n      if (response.data.success) {\n        setPaymentStatus('Payment verified! Processing encoding...');\n        await processEncoding(txId);\n      }\n    } catch (error) {\n      console.error('Payment verification error:', error);\n      setPaymentStatus('Payment verification failed');\n    }\n  };\n  const processEncoding = async txId => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('file_type', fileType);\n      formData.append('wallet_address', walletAddress);\n      formData.append('transaction_id', txId);\n      if (selfDestructTimer) {\n        formData.append('self_destruct_timer', selfDestructTimer);\n      }\n\n      // Add custom headers\n      Object.entries(customHeaders).forEach(([key, value]) => {\n        if (value) {\n          formData.append(`pgn_${key}`, value);\n        }\n      });\n      const response = await axios.post('http://localhost:8000/api/encode', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      if (response.data.success) {\n        setResult(response.data);\n        setPaymentStatus('Encoding completed successfully!');\n      }\n    } catch (error) {\n      console.error('Encoding error:', error);\n      setPaymentStatus('Encoding failed');\n    }\n  };\n  const downloadResult = async () => {\n    if (result && result.download_url) {\n      window.open(`http://localhost:8000${result.download_url}`, '_blank');\n    }\n  };\n  if (!walletConnected) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-6xl mb-4\",\n          children: \"\\uD83D\\uDD12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold mb-4 text-red-600\",\n          children: \"Coinbase Wallet Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-red-800 mb-2\",\n            children: \"Authentication Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-700 mb-4\",\n            children: \"You must connect your Coinbase Wallet before encoding any files. This ensures:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"text-left text-red-700 space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Secure authentication and ownership verification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 X402 micropayment processing for encoding services\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Blockchain-based file metadata storage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Access to your previously encoded files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-blue-800 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Next Steps:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), \" Connect wallet \\u2192 Pay via X402 \\u2192 Encode file\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/wallet',\n          className: \"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors\",\n          children: \"Go to Wallet Connection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-semibold mb-6\",\n      children: \"Encode Secret Message\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Select File to Hide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleFileChange,\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          accept: \".txt,.png,.jpg,.jpeg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"File Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: fileType,\n          onChange: e => setFileType(e.target.value),\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"Text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"image\",\n            children: \"Image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Self-Destruct Timer (seconds, optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: selfDestructTimer,\n          onChange: e => setSelfDestructTimer(e.target.value),\n          placeholder: \"e.g., 3600 for 1 hour\",\n          className: \"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-2\",\n          children: \"Custom Chess Game Headers (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Event name\",\n            value: customHeaders.event,\n            onChange: e => handleHeaderChange('event', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Site/Location\",\n            value: customHeaders.site,\n            onChange: e => handleHeaderChange('site', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"White player\",\n            value: customHeaders.white,\n            onChange: e => handleHeaderChange('white', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Black player\",\n            value: customHeaders.black,\n            onChange: e => handleHeaderChange('black', e.target.value),\n            className: \"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), paymentStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-blue-800\",\n          children: paymentStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-500\",\n            children: \"\\u2705\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-800 font-medium\",\n            children: \"Coinbase Wallet Connected\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 text-sm mt-1\",\n          children: [\"Address: \", walletAddress.slice(0, 6), \"...\", walletAddress.slice(-4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-blue-800 mb-2\",\n          children: \"X402 Micropayment Required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-blue-700 text-sm space-y-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Encoding fee: ~0.002 ETH (X402 protocol)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Payment processed via Coinbase Wallet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 Secure blockchain verification\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u2022 File metadata stored on-chain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: initiatePayment,\n        disabled: loading || !file || !walletConnected,\n        className: \"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg hover:from-green-600 hover:to-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-semibold\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex items-center justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), \"Processing X402 Payment...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this) : 'üîê Pay via X402 & Encode Message'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-green-800 mb-2\",\n          children: \"Encoding Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 mb-2\",\n          children: [\"PGN ID: \", result.pgn_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-green-700 mb-4\",\n          children: [\"File Hash: \", result.pgn_hash]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: downloadResult,\n          className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\",\n          children: \"Download Encoded PGN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\n_s(Encode, \"Hwj5IFaCOSCsotY61lLC3fv5ntA=\");\n_c = Encode;\nexport default Encode;\nvar _c;\n$RefreshReg$(_c, \"Encode\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Encode","walletAddress","sessionToken","walletConnected","_s","file","setFile","fileType","setFileType","selfDestructTimer","setSelfDestructTimer","customHeaders","setCustomHeaders","event","site","white","black","loading","setLoading","transactionId","setTransactionId","paymentStatus","setPaymentStatus","result","setResult","handleFileChange","e","target","files","handleHeaderChange","field","value","prev","initiatePayment","alert","fileData","arrayBuffer","hashBuffer","crypto","subtle","digest","hashArray","Array","from","Uint8Array","fileHash","map","b","toString","padStart","join","response","post","wallet_address","operation","file_hash","data","success","transaction_id","payment_amount_eth","setTimeout","verifyPayment","error","_error$response","_error$response$data","console","errorMsg","message","txId","simulatedTxHash","Math","random","substr","tx_hash","processEncoding","formData","FormData","append","Object","entries","forEach","key","headers","downloadResult","download_url","window","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","location","href","type","onChange","accept","placeholder","slice","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","pgn_id","pgn_hash","_c","$RefreshReg$"],"sources":["/Users/rishuraj/Desktop/ROOKHIDE/frontend/src/components/Encode.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst Encode = ({ walletAddress, sessionToken, walletConnected }) => {\n  const [file, setFile] = useState(null);\n  const [fileType, setFileType] = useState('text');\n  const [selfDestructTimer, setSelfDestructTimer] = useState('');\n  const [customHeaders, setCustomHeaders] = useState({\n    event: '',\n    site: '',\n    white: '',\n    black: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [transactionId, setTransactionId] = useState('');\n  const [paymentStatus, setPaymentStatus] = useState('');\n  const [result, setResult] = useState(null);\n\n  const handleFileChange = (e) => {\n    setFile(e.target.files[0]);\n  };\n\n  const handleHeaderChange = (field, value) => {\n    setCustomHeaders(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const initiatePayment = async () => {\n    // Double-check wallet connection\n    if (!walletConnected || !walletAddress) {\n      alert('‚ùå Coinbase Wallet must be connected first!');\n      return;\n    }\n\n    if (!file) {\n      alert('‚ùå Please select a file to encode');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setPaymentStatus('üîÑ Calculating file hash...');\n\n      // Calculate file hash for X402 payment verification\n      const fileData = await file.arrayBuffer();\n      const hashBuffer = await crypto.subtle.digest('SHA-256', fileData);\n      const hashArray = Array.from(new Uint8Array(hashBuffer));\n      const fileHash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n\n      setPaymentStatus('üí∞ Initiating X402 micropayment...');\n\n      // Initiate X402 payment\n      const response = await axios.post('http://localhost:8000/api/payment/initiate', {\n        wallet_address: walletAddress,\n        operation: 'encode',\n        file_hash: fileHash\n      });\n\n      if (response.data.success) {\n        setTransactionId(response.data.transaction_id);\n        setPaymentStatus(\n          `üí≥ X402 Payment Required: ${response.data.payment_amount_eth} ETH\\n` +\n          `‚è∞ Payment expires in 15 minutes\\n` +\n          `üîÑ Processing payment...`\n        );\n        \n        // In production, this would trigger the actual wallet payment\n        // For demo, we simulate the payment process\n        setTimeout(() => {\n          setPaymentStatus('‚úÖ Simulating X402 payment completion...');\n          setTimeout(() => {\n            verifyPayment(response.data.transaction_id);\n          }, 2000);\n        }, 3000);\n      }\n    } catch (error) {\n      console.error('X402 payment initiation error:', error);\n      const errorMsg = error.response?.data?.message || 'X402 payment initiation failed';\n      setPaymentStatus(`‚ùå ${errorMsg}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const verifyPayment = async (txId) => {\n    try {\n      setPaymentStatus('Verifying payment...');\n      \n      // Simulate transaction hash (in production, this comes from the actual blockchain transaction)\n      const simulatedTxHash = '0x' + Math.random().toString(16).substr(2, 64);\n      \n      const response = await axios.post('http://localhost:8000/api/payment/verify', {\n        transaction_id: txId,\n        tx_hash: simulatedTxHash\n      });\n\n      if (response.data.success) {\n        setPaymentStatus('Payment verified! Processing encoding...');\n        await processEncoding(txId);\n      }\n    } catch (error) {\n      console.error('Payment verification error:', error);\n      setPaymentStatus('Payment verification failed');\n    }\n  };\n\n  const processEncoding = async (txId) => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('file_type', fileType);\n      formData.append('wallet_address', walletAddress);\n      formData.append('transaction_id', txId);\n      \n      if (selfDestructTimer) {\n        formData.append('self_destruct_timer', selfDestructTimer);\n      }\n\n      // Add custom headers\n      Object.entries(customHeaders).forEach(([key, value]) => {\n        if (value) {\n          formData.append(`pgn_${key}`, value);\n        }\n      });\n\n      const response = await axios.post('http://localhost:8000/api/encode', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      if (response.data.success) {\n        setResult(response.data);\n        setPaymentStatus('Encoding completed successfully!');\n      }\n    } catch (error) {\n      console.error('Encoding error:', error);\n      setPaymentStatus('Encoding failed');\n    }\n  };\n\n  const downloadResult = async () => {\n    if (result && result.download_url) {\n      window.open(`http://localhost:8000${result.download_url}`, '_blank');\n    }\n  };\n\n  if (!walletConnected) {\n    return (\n      <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">üîí</div>\n          <h2 className=\"text-2xl font-semibold mb-4 text-red-600\">Coinbase Wallet Required</h2>\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 mb-6\">\n            <h3 className=\"font-semibold text-red-800 mb-2\">Authentication Required</h3>\n            <p className=\"text-red-700 mb-4\">\n              You must connect your Coinbase Wallet before encoding any files. This ensures:\n            </p>\n            <ul className=\"text-left text-red-700 space-y-2\">\n              <li>‚Ä¢ Secure authentication and ownership verification</li>\n              <li>‚Ä¢ X402 micropayment processing for encoding services</li>\n              <li>‚Ä¢ Blockchain-based file metadata storage</li>\n              <li>‚Ä¢ Access to your previously encoded files</li>\n            </ul>\n          </div>\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n            <p className=\"text-blue-800 text-sm\">\n              <strong>Next Steps:</strong> Connect wallet ‚Üí Pay via X402 ‚Üí Encode file\n            </p>\n          </div>\n          <button \n            onClick={() => window.location.href = '/wallet'}\n            className=\"bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600 transition-colors\"\n          >\n            Go to Wallet Connection\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8\">\n      <h2 className=\"text-2xl font-semibold mb-6\">Encode Secret Message</h2>\n      \n      <div className=\"space-y-6\">\n        {/* File Upload */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Select File to Hide\n          </label>\n          <input\n            type=\"file\"\n            onChange={handleFileChange}\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            accept=\".txt,.png,.jpg,.jpeg\"\n          />\n        </div>\n\n        {/* File Type */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            File Type\n          </label>\n          <select\n            value={fileType}\n            onChange={(e) => setFileType(e.target.value)}\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"text\">Text</option>\n            <option value=\"image\">Image</option>\n          </select>\n        </div>\n\n        {/* Self-Destruct Timer */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Self-Destruct Timer (seconds, optional)\n          </label>\n          <input\n            type=\"number\"\n            value={selfDestructTimer}\n            onChange={(e) => setSelfDestructTimer(e.target.value)}\n            placeholder=\"e.g., 3600 for 1 hour\"\n            className=\"w-full p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n\n        {/* Custom PGN Headers */}\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Custom Chess Game Headers (optional)\n          </label>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Event name\"\n              value={customHeaders.event}\n              onChange={(e) => handleHeaderChange('event', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Site/Location\"\n              value={customHeaders.site}\n              onChange={(e) => handleHeaderChange('site', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"White player\"\n              value={customHeaders.white}\n              onChange={(e) => handleHeaderChange('white', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Black player\"\n              value={customHeaders.black}\n              onChange={(e) => handleHeaderChange('black', e.target.value)}\n              className=\"p-3 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n          </div>\n        </div>\n\n        {/* Payment Status */}\n        {paymentStatus && (\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <p className=\"text-blue-800\">{paymentStatus}</p>\n          </div>\n        )}\n\n        {/* Wallet Status */}\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-green-500\">‚úÖ</span>\n            <span className=\"text-green-800 font-medium\">Coinbase Wallet Connected</span>\n          </div>\n          <p className=\"text-green-700 text-sm mt-1\">\n            Address: {walletAddress.slice(0, 6)}...{walletAddress.slice(-4)}\n          </p>\n        </div>\n\n        {/* Payment Info */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <h3 className=\"font-semibold text-blue-800 mb-2\">X402 Micropayment Required</h3>\n          <div className=\"text-blue-700 text-sm space-y-1\">\n            <p>‚Ä¢ Encoding fee: ~0.002 ETH (X402 protocol)</p>\n            <p>‚Ä¢ Payment processed via Coinbase Wallet</p>\n            <p>‚Ä¢ Secure blockchain verification</p>\n            <p>‚Ä¢ File metadata stored on-chain</p>\n          </div>\n        </div>\n\n        {/* Action Button */}\n        <button\n          onClick={initiatePayment}\n          disabled={loading || !file || !walletConnected}\n          className=\"w-full bg-gradient-to-r from-green-500 to-blue-500 text-white py-4 px-6 rounded-lg hover:from-green-600 hover:to-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-200 font-semibold\"\n        >\n          {loading ? (\n            <span className=\"flex items-center justify-center\">\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Processing X402 Payment...\n            </span>\n          ) : (\n            'üîê Pay via X402 & Encode Message'\n          )}\n        </button>\n\n        {/* Result */}\n        {result && (\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <h3 className=\"font-semibold text-green-800 mb-2\">Encoding Successful!</h3>\n            <p className=\"text-green-700 mb-2\">PGN ID: {result.pgn_id}</p>\n            <p className=\"text-green-700 mb-4\">File Hash: {result.pgn_hash}</p>\n            <button\n              onClick={downloadResult}\n              className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors\"\n            >\n              Download Encoded PGN\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Encode;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}